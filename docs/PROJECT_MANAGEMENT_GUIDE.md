# ğŸ¢ HÆ°á»›ng Dáº«n Quáº£n Trá»‹ Projects

## ğŸ“‹ Tá»•ng Quan

Module Quáº£n Trá»‹ Projects cho phÃ©p báº¡n:
- âœï¸ **Chá»‰nh sá»­a** thÃ´ng tin project
- ğŸ”„ **Cáº­p nháº­t** cáº¥u hÃ¬nh WooCommerce
- ğŸ—‘ï¸ **XÃ³a** project (cÃ³ kiá»ƒm tra an toÃ n)
- ğŸ§ª **Test** káº¿t ná»‘i WooCommerce
- ğŸ”’ **PhÃ¢n quyá»n** ngÆ°á»i dÃ¹ng

## ğŸš€ CÃ¡ch Truy Cáº­p

### 1. Tá»« Navigation Bar
Nháº¥n button **ğŸ¢ Projects** trÃªn thanh navigation chÃ­nh

### 2. Tá»« Project Dropdown
- Nháº¥n vÃ o tÃªn project hiá»‡n táº¡i
- Chá»n **âš™ï¸ Quáº£n lÃ½ Projects**

## ğŸ› ï¸ Chá»©c NÄƒng ChÃ­nh

### âœï¸ **Chá»‰nh Sá»­a Project**

1. **Nháº¥n nÃºt "âœï¸ Sá»­a"** trÃªn project card
2. **Form chá»‰nh sá»­a sáº½ hiá»‡n ra** vá»›i cÃ¡c trÆ°á»ng:
   - **TÃªn Project*** (báº¯t buá»™c, 2-100 kÃ½ tá»±)
   - **MÃ´ táº£** (tÃ¹y chá»n, tá»‘i Ä‘a 500 kÃ½ tá»±)
   - **Tráº¡ng thÃ¡i** (Hoáº¡t Ä‘á»™ng/Táº¡m dá»«ng)
   - **WooCommerce URL*** (pháº£i lÃ  URL há»£p lá»‡)
   - **Consumer Key*** (pháº£i báº¯t Ä‘áº§u vá»›i `ck_`)
   - **Consumer Secret*** (pháº£i báº¯t Ä‘áº§u vá»›i `cs_`)
   - **Products Table** (tÃªn báº£ng chá»©a sáº£n pháº©m)

3. **Nháº¥n "ğŸ’¾ LÆ°u"** Ä‘á»ƒ Ã¡p dá»¥ng thay Ä‘á»•i
4. **Há»‡ thá»‘ng sáº½ tá»± Ä‘á»™ng**:
   - Validate dá»¯ liá»‡u Ä‘áº§u vÃ o
   - Test káº¿t ná»‘i WooCommerce (náº¿u thay Ä‘á»•i credentials)
   - Cáº­p nháº­t database
   - Reload danh sÃ¡ch projects

### ğŸ—‘ï¸ **XÃ³a Project**

1. **Nháº¥n nÃºt "ğŸ—‘ï¸ XÃ³a"** trÃªn project card
2. **Há»™p thoáº¡i xÃ¡c nháº­n** sáº½ hiá»‡n ra
3. **Nháº¥n "ğŸ—‘ï¸ XÃ³a"** Ä‘á»ƒ xÃ¡c nháº­n
4. **Há»‡ thá»‘ng sáº½**:
   - Kiá»ƒm tra quyá»n xÃ³a (chá»‰ owner hoáº·c admin)
   - Thá»±c hiá»‡n soft delete (Ä‘Ã¡nh dáº¥u `is_active = false`)
   - Tá»± Ä‘á»™ng chuyá»ƒn sang project khÃ¡c (náº¿u cÃ³)

## ğŸ”’ PhÃ¢n Quyá»n

### **ğŸ‘¤ NgÆ°á»i DÃ¹ng ThÆ°á»ng**
- âŒ KhÃ´ng thá»ƒ truy cáº­p module nÃ y
- âš ï¸ Cáº§n Ã­t nháº¥t quyá»n project member

### **ğŸ“ Project Member/Editor**
- âœ… Xem danh sÃ¡ch projects
- âŒ KhÃ´ng thá»ƒ sá»­a/xÃ³a

### **ğŸ‘¨â€ğŸ’¼ Project Manager**
- âœ… Xem danh sÃ¡ch projects
- âœ… Chá»‰nh sá»­a project information
- âŒ KhÃ´ng thá»ƒ xÃ³a project

### **ğŸ‘‘ Project Owner**
- âœ… ToÃ n quyá»n trÃªn project cá»§a mÃ¬nh
- âœ… Chá»‰nh sá»­a má»i thÃ´ng tin
- âœ… XÃ³a project

### **ğŸ”‘ System Admin**
- âœ… ToÃ n quyá»n trÃªn táº¥t cáº£ projects
- âœ… Chá»‰nh sá»­a/xÃ³a báº¥t ká»³ project nÃ o
- âœ… Hard delete projects (náº¿u cáº§n)

## ğŸ›¡ï¸ TÃ­nh NÄƒng Báº£o Máº­t

### **Validation Dá»¯ Liá»‡u**
- âœ… Kiá»ƒm tra Ä‘á»™ dÃ i tÃªn project
- âœ… Validate URL WooCommerce
- âœ… Kiá»ƒm tra Ä‘á»‹nh dáº¡ng Consumer Key/Secret
- âœ… Validate tÃªn báº£ng database

### **Kiá»ƒm Tra Quyá»n Háº¡n**
- âœ… XÃ¡c thá»±c user trÆ°á»›c má»i thao tÃ¡c
- âœ… Kiá»ƒm tra quyá»n sá»­a/xÃ³a project
- âœ… Prevent unauthorized access

### **Safety Checks**
- âœ… Confirmation dialog cho delete
- âœ… Soft delete by default (cÃ³ thá»ƒ restore)
- âœ… Auto-switch project sau khi xÃ³a
- âœ… WooCommerce connection test trÆ°á»›c khi lÆ°u

## ğŸ§ª Test Káº¿t Ná»‘i WooCommerce

Khi báº¡n thay Ä‘á»•i thÃ´ng tin WooCommerce, há»‡ thá»‘ng sáº½:

1. **Tá»± Ä‘á»™ng test connection** vá»›i credentials má»›i
2. **Hiá»ƒn thá»‹ warning** náº¿u káº¿t ná»‘i tháº¥t báº¡i
3. **Váº«n cho phÃ©p lÆ°u** (Ä‘á»ƒ khÃ´ng block workflow)
4. **Log chi tiáº¿t** trong console Ä‘á»ƒ debug

## ğŸ“± Responsive Design

- âœ… **Desktop**: Layout 2 cá»™t vá»›i form bÃªn pháº£i
- âœ… **Tablet**: Layout responsive
- âœ… **Mobile**: Single column, optimized touch targets

## ğŸ› Troubleshooting

### **Lá»—i "Permission Denied"**
- Kiá»ƒm tra role user trong database
- Äáº£m báº£o user lÃ  owner/manager cá»§a project

### **Lá»—i "WooCommerce Connection Failed"**
- Kiá»ƒm tra URL WooCommerce
- Verify Consumer Key/Secret
- Kiá»ƒm tra firewall/CORS settings

### **Lá»—i "Validation Failed"**
- Kiá»ƒm tra Ä‘á»™ dÃ i tÃªn project
- Äáº£m báº£o URL lÃ  valid format
- Consumer Key pháº£i báº¯t Ä‘áº§u vá»›i `ck_`
- Consumer Secret pháº£i báº¯t Ä‘áº§u vá»›i `cs_`

### **Project KhÃ´ng Hiá»ƒn Thá»‹**
- Kiá»ƒm tra `is_active = true` trong database
- Verify user cÃ³ trong project_members table
- Check RLS policies trong Supabase

## ğŸš€ Best Practices

1. **LuÃ´n backup** trÆ°á»›c khi xÃ³a project
2. **Test WooCommerce connection** sau khi cáº­p nháº­t credentials
3. **Sá»­ dá»¥ng descriptive names** cho projects
4. **PhÃ¢n quyá»n user** Ä‘Ãºng role
5. **Monitor logs** Ä‘á»ƒ debug issues

## ğŸ“Š Database Schema

```sql
-- Projects table
CREATE TABLE projects (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  name VARCHAR(100) NOT NULL,
  description TEXT,
  slug VARCHAR(100) UNIQUE NOT NULL,
  owner_id UUID REFERENCES auth.users(id),
  manager_id UUID REFERENCES auth.users(id),

  -- WooCommerce config
  woocommerce_base_url TEXT NOT NULL,
  woocommerce_consumer_key TEXT NOT NULL,
  woocommerce_consumer_secret TEXT NOT NULL,

  -- Database config
  products_table VARCHAR(50) DEFAULT 'products',
  audit_table VARCHAR(50) DEFAULT 'product_updates',

  -- Settings
  settings JSONB DEFAULT '{}',
  is_active BOOLEAN DEFAULT true,
  max_members INTEGER DEFAULT 10,

  -- Timestamps
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);
```

---

ğŸ‰ **Module Quáº£n Trá»‹ Projects Ä‘Ã£ sáºµn sÃ ng sá»­ dá»¥ng!**

Äá»ƒ há»— trá»£ hoáº·c bÃ¡o cÃ¡o bug, vui lÃ²ng liÃªn há»‡ admin hoáº·c táº¡o issue trong repository.